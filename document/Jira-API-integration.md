---
# 📌 1. Webhook 기반 실시간 연동 (가장 추천)
---

**버전:** 1.0
**작성일:** 2025-11-06
**작성자:** 이민규

**추가사항:** 2025-11-12 발주사에 JSM사용이 힘들꺼같다고함. Jira 기본 템플릿으로 가능한지 문의했음. JSM미시용시대응구조.md 파일 참조.
JSM사용안하고 기본템플릿으로 진행할수도 있음. 아직 미정.

### ✅ 개요

Jira(JSM)의 티켓 상태가 변경되면 **Jira가 자동으로 AtSignal 서버의 API를 호출**하여 실시간으로 변경 내용을 전달하는 방식.

### ✅ 동작 흐름

1. 고객이 JSM 포털에서 티켓을 생성
2. 담당자가 JIRA에서 상태 변경 또는 댓글 작성
3. **JIRA → Webhook 자동 호출**
4. AtSignal 백엔드 서버에서 Webhook 데이터를 수신
5. AtSignal DB 업데이트
6. 웹사이트에서 즉시 상태 변경 표시 (프론트 UI 반영)

### ✅ Webhook으로 받을 수 있는 이벤트

- issue_created
- issue_updated
- issue_resolved
- issue_commented
- issue_assigned

### ✅ Webhook 페이로드 예시

```json
{
  "issue": {
    "key": "ATS-101",
    "fields": {
      "status": { "name": "답변완료" },
      "comment": { ... }
    }
  }
}

```

### ✅ 장점

- **실시간 처리 가능**
- AtSignal UI에 즉시 반영
- 서버 부담 낮음
- 양방향 알림 구조 구성 가능(이메일 + 웹 UI)

### ✅ 단점

- **Webhook 수신용 API 엔드포인트 필요**
- 인증/보안 설정 필요

### ✅ 난이도

⭐⭐⭐⭐☆ (중상 — 추천 방식)

---

## 📌 2. 주기적 API 조회(Polling) 방식

### ✅ 개요

AtSignal 서버가 **정해진 주기(예: 1~5분)** 로 Jira API를 호출해 티켓 상태를 가져오는 방식.

### ✅ 동작 흐름

1. AtSignal 서버에서 1분/5분/10분 간격으로 스케줄러 실행
2. Jira REST API 호출
3. 특정 고객 티켓 목록/상태 값 가져오기
4. 이전 데이터와 비교하여 변경된 부분만 업데이트
5. 웹사이트에서 상태 표시

### ✅ 사용할 API 예시

- `GET /rest/api/3/issue/{issueIdOrKey}`
- `GET /rest/api/3/search?jql=...`

### ✅ 장점

- 구현 자체는 간단
- 서버 API만 있으면 됨
- Webhook 설정 없이도 구축 가능

### ✅ 단점

- **실시간 아님**
- API 호출 비용 증가
- 불필요한 반복 요청 발생

### ✅ 난이도

⭐⭐⭐☆☆ (중간 — Webhook이 힘들 때 차선책)

---

# ✅ 두 방식 비교

| 항목               | Webhook 방식 | 주기 조회(Polling) |
| ------------------ | ------------ | ------------------ |
| 실시간성           | ✅ 매우 좋음 | ❌ 낮음            |
| 서버 부담          | ✅ 적음      | ❌ 많음            |
| 구현 난이도        | 중상         | 중                 |
| 정확성             | ✅ 높음      | 중간               |
| 대규모 트래픽 대응 | ✅ 우수      | 보통               |
| 추천 여부          | ✅ 강력 추천 | 부득이한 경우에만  |

---

# ✅ AtSignal 웹사이트에서 가능한 기능

Webhook 또는 Polling 기반으로 아래 기능 모두 가능:

- 고객 문의 목록 조회
- 티켓 상태 표시 (신규 / 검토중 / 답변완료 / 처리완료)
- 담당자 답변 표시 (Jira 댓글 반영)
- 상태 변경 실시간 UI 업데이트
- 고객에게 이메일/알림 제공
- 고객이 추가 댓글 남기기(양방향 연동 가능)

---
