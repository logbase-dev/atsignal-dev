````markdown
# 📘 인블로그(inblog) 연동 설계서 (API 구조 포함)

**버전:** 1.0
**작성일:** 2025-11-06
**작성자:** 이민규

---

## 🧩 1. 개요

**인블로그(inblog)** 는 콘텐츠 관리 및 배포 자동화 플랫폼으로,
인블로그 관리자에서 작성한 포스트를 자사 웹사이트, 네이버 블로그 등 외부 채널에 자동으로 게시할 수 있다.

이 설계서는 자사 웹사이트(`nethru.co.kr`) 내에 **인블로그 연동 기반 블로그 모듈**을 구현하기 위한 기술 구조 및 API 설계 방향을 정의한다.

---

## 🧱 2. 주요 기능 개요

| 기능                  | 설명                                                           |
| --------------------- | -------------------------------------------------------------- |
| **글 작성**           | 인블로그 관리자에서 포스트 작성 및 발행                        |
| **글 조회 (API)**     | REST API를 통해 인블로그 포스트 목록 및 상세 조회              |
| **카테고리별 필터링** | API 파라미터로 태그, 카테고리별 필터 가능                      |
| **네이버 자동 발행**  | 인블로그에 연결된 네이버 블로그 계정으로 자동 동기화           |
| **검색 노출 강화**    | 인블로그 + 네이버 블로그 양쪽 노출로 SEO 향상                  |
| **웹사이트 연동**     | 백엔드 또는 프론트엔드에서 인블로그 API를 호출하여 데이터 표시 |

---

## 🧠 3. 연동 구조

```mermaid
flowchart LR
    A[인블로그 관리자] -->|글 작성 및 발행| B(인블로그 서버)
    B -->|REST API 응답(JSON)| C[웹사이트 (nethru.co.kr)]
    B -->|자동 발행| D[네이버 블로그]
    C -->|API 데이터 렌더링| E[사용자 브라우저]
```
````

---

## ⚙️ 4. API 연동 구조

> 인블로그는 REST API 기반으로 블로그 콘텐츠를 제공하며,
>
> 인증 토큰을 사용하여 안전하게 접근할 수 있다.

### ✅ (1) 포스트 목록 조회

**GET** `/api/posts`

| 항목               | 설명                                                                                       |
| ------------------ | ------------------------------------------------------------------------------------------ |
| **요청 파라미터**  | `limit`, `offset`, `tag`, `category`, `sort` 등                                            |
| **응답 형식**      | JSON                                                                                       |
| **주요 응답 필드** | `id`, `title`, `excerpt`, `content`, `thumbnail`, `author`, `published_at`, `tags`, `slug` |
| **예시 요청**      |                                                                                            |

```
GET https://api.inblog.co/v1/posts?limit=5&tag=analytics
Authorization: Bearer {ACCESS_TOKEN}

```

| 필드           | 설명           |
| -------------- | -------------- |
| `id`           | 포스트 고유 ID |
| `title`        | 제목           |
| `excerpt`      | 요약문         |
| `content`      | 본문 HTML      |
| `published_at` | 발행일         |
| `tags`         | 태그 목록      |

---

### ✅ (2) 특정 포스트 조회

**GET** `/api/posts/{id}`

| 항목               | 설명                                                            |
| ------------------ | --------------------------------------------------------------- |
| **요청 경로 변수** | `{id}` = 포스트 ID                                              |
| **응답 형식**      | JSON                                                            |
| **응답 필드**      | `title`, `content`, `seo_title`, `seo_description`, `thumbnail` |

**예시 요청**

```
GET https://api.inblog.co/v1/posts/12345
Authorization: Bearer {ACCESS_TOKEN}

```

---

### ✅ (3) 카테고리/태그 조회

**GET** `/api/tags`

**GET** `/api/categories`

> 사이트 내 태그 또는 카테고리 목록 노출용.

---

### ✅ (4) 검색 기능

**GET** `/api/search?q={keyword}`

인블로그 내 게시글 중 검색 키워드 포함된 포스트 반환.

---

## 🧾 5. 연동 설계 시나리오

| 시나리오                    | 설명                                                                |
| --------------------------- | ------------------------------------------------------------------- |
| **S1. 블로그 목록 표시**    | 백엔드(API Gateway) → 인블로그 API 호출 → JSON 응답을 프론트로 전달 |
| **S2. 글 상세 페이지 표시** | URL 파라미터(`slug` or `id`) 기반으로 단일 포스트 요청              |
| **S3. 태그별 필터링**       | `/api/posts?tag={name}` 형태로 목록 필터링                          |
| **S4. 네이버 자동 발행**    | 인블로그 관리자 설정에서 네이버 블로그 계정 연결 시 자동 등록됨     |
| **S5. 캐시 처리**           | 사이트 속도 개선을 위해 백엔드에서 5분~10분 캐시 유지 권장          |

---

## 🔐 6. 인증 방식

| 항목          | 설명                                                    |
| ------------- | ------------------------------------------------------- |
| **방식**      | Bearer Token (Access Token)                             |
| **발급 위치** | 인블로그 관리자 → API 키 발급 메뉴                      |
| **사용 위치** | 모든 요청 Header에 포함                                 |
| **형식 예시** | `Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6...` |

---

## 🌍 7. 네이버 블로그 자동 발행 구조

| 항목               | 설명                                                           |
| ------------------ | -------------------------------------------------------------- |
| **연결 방식**      | 인블로그 관리자 > 채널 설정 > 네이버 블로그 연결               |
| **자동 발행 조건** | 게시글 발행 시 “네이버 블로그에 동시에 발행” 옵션 활성화       |
| **동기화 데이터**  | 제목, 본문, 대표 이미지, 태그, SEO 메타 정보                   |
| **주의사항**       | 네이버 측 검수 이후 동기화 시간차 발생 가능 (보통 5~10분 이내) |

---

## 💡 8. 웹사이트 구현 예시

### 프론트엔드 (React 예시)

```jsx
useEffect(() => {
  fetch("https://api.inblog.co/v1/posts?limit=5", {
    headers: { Authorization: `Bearer ${process.env.INBLOG_TOKEN}` },
  })
    .then((res) => res.json())
    .then((data) => setPosts(data.posts));
}, []);
```

### 백엔드 (Python 예시)

```python
import requests

url = "https://api.inblog.co/v1/posts"
headers = {"Authorization": f"Bearer {INBLOG_API_TOKEN}"}
response = requests.get(url, headers=headers)
posts = response.json()["posts"]

```

---

## 🧰 9. 유지보수 전략

| 항목              | 내용                                                             |
| ----------------- | ---------------------------------------------------------------- |
| **API 호출 주기** | 실시간 호출 대신 캐시 5~10분 단위 업데이트                       |
| **에러 처리**     | HTTP 401(인증 실패), 404(글 없음), 500(서버 에러) 처리 로직 필요 |
| **백업 관리**     | 포스트 메타데이터를 DB에 로컬 캐시 형태로 보관                   |
| **버전 관리**     | 인블로그 API 버전 업데이트 시 엔드포인트 변경 주의               |

---

## 📦 10. 결론

- 인블로그는 “콘텐츠 관리 + 다채널 발행 플랫폼”이다.
- 우리 웹사이트에서는 인블로그 API를 통해 최신 글 데이터를 직접 렌더링한다.
- 네이버 블로그 자동 발행으로 SEO 시너지를 얻을 수 있다.
- API 연동은 단순하지만, 캐시 전략과 인증 토큰 관리가 중요하다.
